<!--

Copyright 2015 Google Inc. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="author" content="Paul Lewis" />
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <link href="https://fonts.googleapis.com/css?family=Lato:900,300" rel="stylesheet" type="text/css">
  <title>Merry Twistmas!</title>
  <style>
  html, body {
    padding: 0;
    margin: 0;
    width: 100%;
    height: 100%;
    background: #330522;
  }

  canvas {
    background: #330522;
    display: block;
    cursor: pointer;
  }

  .cover {
    content '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(circle farthest-corner at 50% 50%,
            rgba(0,0,0,0), rgba(0,0,0,0.1), rgba(0,0,0,0.8));
    z-index: 1;
    font-family: 'Lato', Arial;
    text-transform: uppercase;
    color: rgba(255,255,255,0.95);
    display: flex;
    flex-direction: row;
    align-items: center;
    text-align: center;
    transition: opacity 0.2s cubic-bezier(0,0,0.21,1);
  }

  .cover h1 {
    pointer-events: none;
    position: absolute;
    width: 100%;
    text-align: center;
    bottom: 50%;
    left: 0;
    font-size: 6vw;
    font-weight: 300;
    line-height: 1;
    margin: 0;
    letter-spacing: -0.02em;
    text-shadow: 0 0 4px rgba(255,255,255,0.9),
        0 0 8px rgba(255,255,255,0.2),
        0 0 20px rgba(255,255,255,0.5);
  }

  .cover .time {
    pointer-events: none;
    position: absolute;
    width: 100%;
    text-align: center;
    bottom: 40%;
    left: 0;
    font-size: 4vw;
    font-weight: 300;
    line-height: 1;
    margin: 0;
    letter-spacing: -0.02em;
    text-shadow: 0 0 4px rgba(255,255,255,0.9),
        0 0 8px rgba(255,255,255,0.2),
        0 0 20px rgba(255,255,255,0.5);
  }

  .cover .play {
    text-align: center;
    align-self: flex-end;
    margin: 60px auto;
    top: 37%;
    padding: 20px;
    line-height: 1;
    font-size: 4vw;
    font-weight: 900;
    color: #DA0A7A;
    text-transform: uppercase;
    border: 1px solid rgba(255,255,255,0.3);
    background: none;
    border-radius: 6px;
  }

  .playing .cover {
    opacity: 0;
    pointer-events: none;
  }

  .festive-o-meter {
    height: 70%;
    border: 1px solid rgba(255,255,255,0.2);
    /*border-radius: 16px;*/
    width: 32px;
    position: absolute;
    bottom: 15%;
    left: calc(50% - 16px);
    will-change: opacity;
    opacity: 0;
  }

  .playing .festive-o-meter {
    transition: opacity 0.2s cubic-bezier(0,0,0.21,1);
    opacity: 1;
  }

  .meter {
    z-index: 2;
    width: calc(100% - 4px);
    height: calc(100% - 4px);
    box-sizing: border-box;
    bottom: 2px;
    left: 2px;
    /*border-radius: 12px;*/
    position: absolute;
    overflow: hidden;
    /*-webkit-clip-path: inset(0 0 0 0 round 12px 12px 12px 12px);
    clip-path: inset(0 0 0 0 round 12px 12px 12px 12px);*/
  }

  .meter-inner {
    background: rgba(8,210,249,0.89);
    width: 100%;
    height: 0%;
    bottom: 0;
    left: 0;
    position: absolute;
    transition: height 0.1s cubic-bezier(0,0,0.21,1);
  }

  .meter-inner-glow {
    display: none;
    will-change: opacity;
    opacity: 0;
    width: 100%;
    height: 0%;
    bottom: 0;
    left: 0;
    position: absolute;
    transition: height 0.1s cubic-bezier(0,0,0.21,1);
    box-shadow: 0 0 4px rgba(255,255,255,0.9),
        0 0 8px rgba(255,255,255,0.2),
        0 0 10px rgba(255,255,255,0.6),
        0 0 40px rgba(255,255,255,0.9);
    will-change: transform;
  }

  .target {
    width: 10%;
    height: 10px;
    position: absolute;
    left: 45%;
    top: 90%;
    background: #FFF;
    border-radius: 5px;
    z-index: 2;
    will-change: opacity;
    opacity: 0;
  }

  .playing .target {
    transition: opacity 0.2s cubic-bezier(0,0,0.21,1);
    opacity: 1;
  }

  .target-glow {
    will-change: opacity, transform;
    transition: opacity 0.333s cubic-bezier(0,0,0.21,1);
    width: 100%;
    height: 100%;
    opacity: 0.1;
    border-radius: 5px;
    box-shadow: 0 0 4px rgba(255,255,255,0.9),
        0 0 8px rgba(255,255,255,0.2),
        0 0 10px rgba(255,255,255,0.6),
        0 0 40px rgba(255,255,255,0.9);
  }

  .target.hit .target-glow {
    transition: none;
    opacity: 1;
  }

  .playtime {
    position: absolute;
    top: 5%;
    width: 100%;
    color: #FFF;
    font-family: 'Lato';
    text-align: center;
    z-index: 3;
  }

  @media (min-width: 600px) {
    .cover .play {
      font-size: 2vw;
    }
  }
  </style>
</head>
<!--
Yeah, I dunno, either. It seemed like it might be a fun thing to code up on
account of it being winter in the northern hemisphere. That said, it's floopin'
warm right now, so it doesn't seem in keeping. Maybe this is my way of doing a
little wishful thinking? Who knows.

Anyway, Merry Christmas, Happy Holidays... all of that.

<3,

Paul / @aerotwist
-->
<body>
  <canvas></canvas>
  <div class="cover">
    <h1>Merry Twistmas!</h1>
    <h2 class="time"></h2>
    <button class="play">Fill the festive-o-meter!</button>
  </div>

  <div class="playtime"></div>

  <div class="festive-o-meter">
    <div class="meter">
      <div class="meter-inner"></div>
      <div class="meter-inner-glow"></div>
    </div>
  </div>

  <div class="target">
    <div class="target-glow"></div>
  </div>

  <script src="m-snow-es5.js"></script>
</body>
</html>
